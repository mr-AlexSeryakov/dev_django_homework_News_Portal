""" Команды для выполнения практического задания ""

"""
Задание №1:
    Создать двух пользователей (с помощью метода 
    User.objects.create_user('username')).

Задание №2:
    Создать два объекта модели Author, связанные с
    пользователями.

Задание №3:
    Добавить 4 категории в модель Category.

Задание №4:
    Добавить 2 статьи и 1 новость.

Задание №5:
    Присвоить им категории (как минимум в одной 
    статье/новости должно быть не меньше 2
    категорий).

Задание №6:
    Создать как минимум 4 комментария к разным 
    объектам модели Post (в каждом объекте должен 
    быть как минимум один комментарий).

Задание №7:
    Применяя функции like() и dislike() к статьям/новостям
    и комментариям, скорректировать рейтинги этих объектов.

Задание №8:
    Обновить рейтинг пользователей

    Код для обновления рейтинга пользователя id = 2

Задание №8, №9, №10, №11
    Необходимо использовать файл с кодом scripts_np.py 
    размещенный в корневой папки проекта
    Для запуска файла используй Django ORM (shell)
    Команда для запуска в shell:
        exec(open('scripts_np.py').read())
"""

"""Создаем пользователя 1 и пользователя 2"""
user1 = User.objects.create_user('Alexa', password='pass')
user2 = User.objects.create_user('Max')

"""Добовляем пользователя по id в таблицу Author"""
Author.objects.create(user = User.objects.get(id=1))
Author.objects.create(user = User.objects.get(id=2))

"""Добовляем категории в таблицу Category"""
Category.objects.create(category_name = 'sport')
Category.objects.create(category_name = 'gam')
Category.objects.create(category_name = 'it_industry')
Category.objects.create(category_name = 'games')
Category.objects.create(category_name = 'russian_extreme')

"""Создаем новости и статьи с помощью переменных"""
# Присваиваем переменной id пользователя из Author
Alexa = Author.objects.get(id=1)
Max = Author.objects.get(id=2)

# Создаем статьи и присваеваем им категорию 
post1 = Post.objects.create(author = Alexa, post_type = 'AR', title = 'первый спорт', text = 'о спотре', rating = 0)
post1.categories.add(sport)

post2 = Post.objects.create(author = Max, post_type = 'AR', title = 'iphone17', text = 'Сентябрь, новый Iphone17 и другие вещи от Apple', rating = 0)
post2.categories.add(it)

post3 = Post.objects.create(author = Max, post_type = 'AR', title = 'Iphone17 sale', text = '24 сентября продажа нового Iphone 17 в Москве', rating = 0)
post3.categories.add(it)

# Меняем тип статьи 
post3_change = Post.objects.get(id=3)
post3_change.post_type = 'NW'
post3_change.save()

"""Меняем рейтинг по каждой статье в таблице Post""""
# Присваеваем рейтинг без переменной
Post.objects.filter(id=1).update(rating=3)
Post.objects.filter(id=2).update(rating=1) 

# Присваеваем рейтинг с переменной 
post3_r.rating = 3
post3_r.save()

"""Создаем комментарии к стаьям """ 
com1 = Comment.objects.create(post=post1, user=user1, text='Спрот должен быть в жизни', rating=1)
com2 = Comment.objects.create(post=post2, user=user2, text='Хорошая новсть', rating=1)
Comment.objects.create(post=post3, user=user1, text='great news', rating=2)
com4 = Comment.objects.create(post=post1, user=user2, text='Движение сила', rating=1)

"""Используем like и dislike для изменения рейтинга"""
com1.like()
com2.like()

post1.like()
post2.dislike()
post3.like()

"""Оновляем вручную рейтинг по пользователю 2"""
author2 = Author.objects.get(id=2)
author2.update_rating()

